{"ast":null,"code":"import _classCallCheck from \"/home/ubuntu/Documents/Qunar\\u5B9E\\u4E60/react-demo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ubuntu/Documents/Qunar\\u5B9E\\u4E60/react-demo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ubuntu/Documents/Qunar\\u5B9E\\u4E60/react-demo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ubuntu/Documents/Qunar\\u5B9E\\u4E60/react-demo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ubuntu/Documents/Qunar\\u5B9E\\u4E60/react-demo/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/ubuntu/Documents/Qunar\\u5B9E\\u4E60/react-demo/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/ubuntu/Documents/Qunar\\u5B9E\\u4E60/react-demo/src/App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport InputList from './component/inputList/index.js';\nimport ShowList from './component/showList/index.js';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.addTask = _this.addTask.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.removeTask = _this.removeTask.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.successTask = _this.successTask.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      taskList: [\"吃饭\", \"睡觉\", \"打豆豆\"],\n      checked: [\"N\", \"N\", \"N\"],\n      count: 0\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: logo,\n        className: \"App-logo\",\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, \"Edit \", React.createElement(\"code\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, \"src/App.js\"), \" and save to reload.\"), React.createElement(\"a\", {\n        className: \"App-link\",\n        href: \"https://reactjs.org\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"Learn React\")), React.createElement(\"div\", {\n        className: \"todo-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"React Todo\"), React.createElement(ShowList, {\n        taskList: this.state.taskList,\n        removeTask: this.removeTask,\n        successTask: this.successTask,\n        checked: this.state.count,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }), React.createElement(InputList, {\n        taskList: this.state.taskList,\n        addTask: this.addTask,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }))));\n    }\n  }, {\n    key: \"addTask\",\n    value: function addTask() {\n      //若将input的value的值，change的时候就要改变，调用次数过多，影响性能，所以将其放入addTask中，直接在dom上操作清空input的值\n      var taskList = this.state.taskList;\n      var checked = this.state.checked;\n      var input = document.getElementById(\"input-task\");\n\n      if (input.value.trim() === '') {\n        alert(\"请输入一个Task~~~~~~~\");\n        return;\n      }\n\n      taskList.push(input.value);\n      checked.push(\"N\");\n      input.value = '';\n      this.setState({\n        taskList: taskList,\n        checked: checked\n      });\n    }\n  }, {\n    key: \"removeTask\",\n    value: function removeTask(index) {\n      var taskList = this.state.taskList;\n      taskList.splice(index, 1);\n      this.setState({\n        taskList: taskList\n      }, function () {//document.getElementsByClassName(\"checkbox\")[index].checked = false\n        //this.successTask();\n      });\n    }\n  }, {\n    key: \"successTask\",\n    value: function successTask(e) {\n      //checkbox的样式应该和this.state.checked同步\n      var checkbox = document.getElementsByClassName(\"checkbox\");\n      var checked = this.state.checked;\n      var count = 0;\n      console.log(e.target.parentNode);\n      console.log(checked, \"=====\");\n\n      for (var i = 0; i < checked.length; i++) {\n        var acticeStyle = checkbox[i].parentNode.parentNode;\n\n        if (checkbox[i] === \"Y\") {\n          acticeStyle.className += \" task-list-active\";\n          count++;\n        } else {\n          if (acticeStyle.className.indexOf(\"task-list-active\") > 0) {\n            acticeStyle.className = \"task-list\";\n          }\n        }\n      }\n\n      this.setState({\n        checked: checked,\n        count: count\n      });\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/ubuntu/Documents/Qunar实习/react-demo/src/App.js"],"names":["React","Component","InputList","ShowList","App","props","addTask","bind","removeTask","successTask","state","taskList","checked","count","logo","input","document","getElementById","value","trim","alert","push","setState","index","splice","e","checkbox","getElementsByClassName","console","log","target","parentNode","i","length","acticeStyle","className","indexOf"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nimport InputList from './component/inputList/index.js';\nimport ShowList from './component/showList/index.js';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.addTask = this.addTask.bind(this);\n    this.removeTask = this.removeTask.bind(this);\n    this.successTask = this.successTask.bind(this);\n    this.state = {\n      taskList: [\"吃饭\", \"睡觉\", \"打豆豆\"],\n      checked: [\"N\", \"N\", \"N\"],\n      count: 0\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Edit <code>src/App.js</code> and save to reload.\n          </p>\n          <a\n            className=\"App-link\"\n            href=\"https://reactjs.org\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Learn React\n          </a>\n        </header>\n        <div className=\"todo-list\">\n          <div className=\"content\">\n            <h1>React Todo</h1>\n            <ShowList  taskList={this.state.taskList} removeTask={this.removeTask} successTask={this.successTask} checked={this.state.count} />\n            <InputList taskList={this.state.taskList} addTask={this.addTask} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  addTask() {\n    //若将input的value的值，change的时候就要改变，调用次数过多，影响性能，所以将其放入addTask中，直接在dom上操作清空input的值\n    const taskList = this.state.taskList;\n    const checked = this.state.checked;\n    const input = document.getElementById(\"input-task\");\n    if(input.value.trim() === '') {\n      alert(\"请输入一个Task~~~~~~~\");\n      return ;\n    }\n    taskList.push(input.value);\n    checked.push(\"N\");\n    input.value = '';\n    this.setState({\n      taskList: taskList,\n      checked: checked\n    })\n  }\n\n  removeTask(index) {\n    const taskList = this.state.taskList;\n    taskList.splice(index, 1);\n    this.setState({\n      taskList: taskList\n    }, function() {\n      //document.getElementsByClassName(\"checkbox\")[index].checked = false\n      //this.successTask();\n    })\n  }\n\n  successTask(e) {\n    //checkbox的样式应该和this.state.checked同步\n    const checkbox = document.getElementsByClassName(\"checkbox\");\n    const checked = this.state.checked;\n    let count = 0;\n    console.log(e.target.parentNode)\n    console.log(checked, \"=====\")\n    for(let i=0; i<checked.length; i++) {\n      let acticeStyle = checkbox[i].parentNode.parentNode;\n      if(checkbox[i] === \"Y\") {\n        acticeStyle.className += \" task-list-active\";\n        count++;\n      }else {\n        if(acticeStyle.className.indexOf(\"task-list-active\") > 0) {\n          acticeStyle.className = \"task-list\";\n        }\n      }\n    }\n    this.setState({\n      checked: checked,\n      count: count\n    })\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}